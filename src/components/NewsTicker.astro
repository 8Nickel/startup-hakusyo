---
import { getCollection } from 'astro:content';

/* ✅ Promise を解決してから slice する */
const news = (await getCollection('news')).slice(0, 5);
---

<div class="overflow-hidden bg-indigo-600 text-white">
  <div class="whitespace-nowrap animate-scroll px-4 py-2">
    {news.map((n) => (
      <a href={`/news/${n.slug}/`} class="mx-6 underline">
        {n.data.title}
      </a>
    ))}
  </div>
</div>

<style>
@keyframes scroll {
  0%   { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}
.animate-scroll {
  animation: scroll 25s linear infinite;
}
</style>
